language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "anddopphoopha" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t anddopphoopha/se234-lab10-backend
  .
- docker push anddopphoopha/se234-lab10-backend
- docker pull anddopphoopha/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cashe:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: Nrq20pUVVNl6fBlOrWs/zeLpY0QlEZ1Cwi4LM4cfgmwiMgTiohNfVGgcdwRyIz8gziMtr/GUuKPBBQTOj1GJj9+79tKLmAlhWB4/ERgU8gPB8zTYD4wVXSMXqMHwfmOtcSwnDZWA+94l65QAYnU0a30uCXYdaCV10mnyYrb3XWwvr5HADNjmtDryf5fnKj6RPKpZMoZv6TIQpUJWlxtFIgYN4fZzy8nApN7boeFGcFPAsr3r6YiiJDDAgYtxzCPT+sXo+FApQEO6XYUj1OXyG28pC6ZwWSU45fF6qEPaiREYofinyTI606VRLTyFkIBs4P/K1gFuzvA9vN5XWxxbjX/U/m472IoDDq/hNX4NngMwEFpvfJjLUTWuqrOWAzTegxw7qpKZOOwsz43ZkQPGX32lOTaCSS2JF9EiltpdroIILh/OCB7QTBxfhXVsRTJkmJ0I6R7KvwyWG+WYCvtQ+5plaghhsc5I9DzTl/mCxsgMBrj94ZAfrvDeFrSHKhvcz4tj2iZuof9IUCbgvgyTP2eQsNVuGUsicC6w+K0toI2+87lhyRa44u//EkvSMYUodP76AyI0St+fxvamIwjh+LrPiW88L9snCgeSawDCgoOuNNPLCGkoNAIKMJfDznYxSU/hGhBtX5TOyaFS+uM7LUt4JcVFqvGTgrEYA3+Jl+0=
  - secure: BtSCy00cLbs6HZQYb6TB1wDXcGvEXspCmLt0sUtAyPJ8v3OCW4e2UZaMEgB9W7D+l9SF9NHbX4tsjcoQwEBoI7vcjSiPcjOnScGwMGPmfBQnQlAmVZwDQt2f4COagByQuCK2joFWJf6yG7QZ4Wuu4aS6Ikna8MdYkfbPsZ74+V0M8hx/k6NV4Ezj7BytiivLI2ZkTTmvHVBemDvIiIWZQaAmSsTN5qBXwfq9Y9Kz2ZM2U4brWDUpi4hIkuLeeDMRpgxRxn6jVyf+IVGirHBBYrV2Av3Zg3lzxIU/x5Vjhq77Q44waKr7cVRGOp9wf+eU4iaU31B0675VDDHfO9NLyct/BKUlwuxzYEUsaSVcuwjTUfr+e/2nkhYCBOIZP8O3A6GzT5Px4ND1YTh35ol0OXfqsDy6kIp/8pCdcSYcvuvGrppKql96s2EtDK0iES34I9NSsUg4oliy5oiX0P2Ug16fefvb3z8nHB+WYZywOqSpi8uumUdstErLunrOUpBFUrFFVWH2WLKBlQxCOj+w2x/VWwuBsc6mtdYGolhamGCS8apQ5gPh8e30nYLNw53Oocgo43Pk72yQfPnjdEjEzMr+K/d9wLBTI2on9N5zlndaAMIW8GxBKhGwdNdIoWUxssiFn2fs6Ul0G2l1yde5kkxa0BLj7wqWJht0NSOfTWg=
  - secure: X/xbNKz+W7O/FuhLrjWZO0NWPAP5owmCuSbo40CDRikRBeoce1d0lZn1YAiHeD6dnnlNYSeTcmNbPWGXwv3dEi/t2J1LWti81wShsErLPwviGrDdXoeUYvvSWZWW8yxLwnwI8lXccwiE8EJlyR4ii53+soKbzvBLKvHyS8H36VeTjr2FKjRDIjRtS574KKFvcFL6hCjSu0ph5V9YclHXW6aNgzj9/Tqjs2Lji/43i/Fu5/4Vz0qROkpstZ2jJDO0PNTick0Qxjy4qVCqiDa9YKchh3V9zxvryHx7DNqZ1nnZ1e76C4NjFY8xYM0kGK9oiOHUEN262+WjRMiwnGeAVRiDiLdjW+jYhIqWfIAF9oQB/bhsBPq6OUNtG5Jjyeu4CCUkupxCLAFiaei7/AwWVquGDNxKnoeZRmbLS3zmH1juM9MHctqLRlXXql7BesoDZCLyuJipguEwxGrbddMAwhr5W4v6nSWtE9ZSLW6LM13ynkJ6LQy/CF3l5sa4h/PiEV2OVHktoPgw5gpfzOlnySS4iamDj8OMuyzcDjMaQNdRx2lIt71PS7XwojWTqyZ/XBy55YQQmiLSN/x9LUlKItLymjwxfU9kiqQUQHQA+y9GaekWdXmFvzz3glsj2Qd+P8FS2xlW5wROCQ+x7+/hkJHaNzyXDood5FknpcJ8G5M=
